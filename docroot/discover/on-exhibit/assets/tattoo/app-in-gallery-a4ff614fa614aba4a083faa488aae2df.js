$(function(){for(var e in svgManifest)$.ajax({url:svgManifest[e],complete:function(e){$(".svgHideContainer").append(e.responseText)}})}),tattoo={};var customPath="/discover/on-exhibit/tattoo",protocol=document.location.protocol;"https:"!=protocol&&(protocol="http:");var count=document.createElement("script");count.type="text/javascript",count.async=!0,count.src=protocol+"//hello.myfonts.net/count/324297";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(count,s);var browserName,browserVersion,webfontType;if("undefined"==typeof woffEnabled)var woffEnabled=!0;var svgEnabled=1,woff2Enabled=0;if("undefined"!=typeof customPath)var path=customPath;else{var scripts=document.getElementsByTagName("SCRIPT"),script=scripts[scripts.length-1].src;script.match("://")||"/"==script.charAt(0)||(script="./"+script),path=script.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")}var wfpath=path+"/webfonts/",browsers=[{regex:"MSIE (\\d+\\.\\d+)",versionRegex:"new Number(RegExp.$1)",type:[{version:9,type:"woff"},{version:5,type:"eot"}]},{regex:"Trident/(\\d+\\.\\d+); (.+)?rv:(\\d+\\.\\d+)",versionRegex:"new Number(RegExp.$3)",type:[{version:11,type:"woff"}]},{regex:"Firefox[/s](\\d+\\.\\d+)",versionRegex:"new Number(RegExp.$1)",type:[{version:3.6,type:"woff"},{version:3.5,type:"ttf"}]},{regex:"Edge/(\\d+\\.\\d+)",versionRegex:"new Number(RegExp.$1)",type:[{version:12,type:"woff"}]},{regex:"Chrome/(\\d+\\.\\d+)",versionRegex:"new Number(RegExp.$1)",type:[{version:36,type:"woff2"},{version:6,type:"woff"},{version:4,type:"ttf"}]},{regex:"Mozilla.*Android (\\d+\\.\\d+).*AppleWebKit.*Safari",versionRegex:"new Number(RegExp.$1)",type:[{version:4.1,type:"woff"},{version:3.1,type:"svg#wf"},{version:2.2,type:"ttf"}]},{regex:"Mozilla.*(iPhone|iPad).* OS (\\d+)_(\\d+).* AppleWebKit.*Safari",versionRegex:"new Number(RegExp.$2) + (new Number(RegExp.$3) / 10)",unhinted:!0,type:[{version:5,type:"woff"},{version:4.2,type:"ttf"},{version:1,type:"svg#wf"}]},{regex:"Mozilla.*(iPhone|iPad|BlackBerry).*AppleWebKit.*Safari",versionRegex:"1.0",type:[{version:1,type:"svg#wf"}]},{regex:"Version/(\\d+\\.\\d+)(\\.\\d+)? Safari/(\\d+\\.\\d+)",versionRegex:"new Number(RegExp.$1)",type:[{version:5.1,type:"woff"},{version:3.1,type:"ttf"}]},{regex:"Opera/(\\d+\\.\\d+)(.+)Version/(\\d+\\.\\d+)(\\.\\d+)?",versionRegex:"new Number(RegExp.$3)",type:[{version:24,type:"woff2"},{version:11.1,type:"woff"},{version:10.1,type:"ttf"}]}],browLen=browsers.length,suffix="",i=0;e:for(;browLen>i;i++){var regex=new RegExp(browsers[i].regex);if(regex.test(navigator.userAgent)){browserVersion=eval(browsers[i].versionRegex);var typeLen=browsers[i].type.length;for(j=0;j<typeLen;j++)if(browserVersion>=browsers[i].type[j].version&&(1==browsers[i].unhinted&&(suffix="_unhinted"),webfontType=browsers[i].type[j].type,"woff"!=webfontType||woffEnabled)&&("woff2"!=webfontType||woff2Enabled)&&("svg#wf"!=webfontType||svgEnabled))break e}else webfontType="woff"}/(Macintosh|Android)/.test(navigator.userAgent)&&"svg#wf"!=webfontType&&(suffix="_unhinted");var head=document.getElementsByTagName("head")[0],stylesheet=document.createElement("style");stylesheet.setAttribute("type","text/css"),head.appendChild(stylesheet);var fonts=[{fontFamily:"FFClanWebProMedium",url:wfpath+"324297_0"+suffix+"_0."+webfontType},{fontFamily:"FFClanPro",fontWeight:"normal",fontStyle:"normal",url:wfpath+"324297_1"+suffix+"_0."+webfontType},{fontFamily:"FFClanPro",fontWeight:"bold",fontStyle:"italic",url:wfpath+"324297_2"+suffix+"_0."+webfontType},{fontFamily:"FFClanPro",fontWeight:"normal",fontStyle:"italic",url:wfpath+"324297_3"+suffix+"_0."+webfontType},{fontFamily:"FFClanPro",fontWeight:"bold",fontStyle:"normal",url:wfpath+"324297_4"+suffix+"_0."+webfontType}],len=fonts.length,data_fn;"ttf"==webfontType?data_fn="_unhinted"==suffix?"324297_data_unhintedttf.css":"324297_datattf.css":"woff"==webfontType&&(data_fn="_unhinted"==suffix?"324297_data_unhintedwoff.css":"324297_datawoff.css");var link=document.createElement("link");link.setAttribute("rel","stylesheet"),link.setAttribute("type","text/css"),link.setAttribute("href",wfpath+data_fn),head.appendChild(link);for(var css="",i=0;len>i;i++){var format="svg#wf"==webfontType?'format("svg")':"ttf"==webfontType?'format("truetype")':"eot"==webfontType?"":'format("'+webfontType+'")',css=css+("@font-face{font-family: "+fonts[i].fontFamily+";src:url("+fonts[i].url+")"+format+";");fonts[i].fontWeight&&(css+="font-weight: "+fonts[i].fontWeight+";"),fonts[i].fontStyle&&(css+="font-style: "+fonts[i].fontStyle+";"),css+="}"}stylesheet.styleSheet?stylesheet.styleSheet.cssText=css:stylesheet.innerHTML=css,window.common=window.common||{},window.common.deferLoad={},$(function(){common.deferLoad.enableImage=function(e){e.attr("src",e.attr("data-src")),e.attr("srcset",e.attr("data-srcset"))},common.deferLoad.enableVideo=function(e){var t=e.parent();e.detach(),e.attr("src",e.attr("data-src")),e.attr("data-src",""),t.append(e)}}),function(e){function t(e){this.name="MissingRequiredOption",this.message=e||"Required field not provided in options object",this.stack=(new Error).stack}function o(e){this.name="JuicerBadRequest",this.message=e||"Juicer responded with an error status - Check Feed ID",this.stack=(new Error).stack}function n(e){var t=this.parseInputOptions(e);this.$element=t.element,this.uri=t.uri,this.options={per:t.numberOfPosts||5,page:t.pages||1,filter:t.filter||""},this.success=t.success||this.defaultSuccess,this.error=t.error||this.defaultError,this.exclude=t.exclude||{},this.template=t.template||this.getDefaultTemplate()}t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,e.fn.juicer=function(e){e.element=this;var t=new n(e);return t.load(),this},n.prototype.getDefaultTemplate=function(){return['<article class="juice-post">','<img src="{image}" class="feed-img">','<div class="feed-content">','<div class="like-count">{like_count}</div>','<div class="feed-desc">{unformatted_message}</div>',"</div>","</article>"].join("")},n.prototype.parseInputOptions=function(e){if("undefined"==typeof e)throw new t;if("undefined"==typeof e.element||!e.element)throw new t;if("undefined"==typeof e.uri||!e.uri)throw new t;return e},n.prototype.defaultSuccess=function(){},n.prototype.defaultError=function(){console.log("Hang tight! Something went wrong.")},n.prototype.load=function(){var t=this;e.getJSON(this.uri,this.options,this.handleResponse.bind(this)).done(function(){t.success(t.hash)}).fail(function(){t.error()})},n.prototype.handleResponse=function(e){if("error"===e.slug)throw this.error(),new o;var t=e.posts.items;this.render(t)},n.prototype.sanitize=function(t){for(var o in t){var n=t[o];n&&!e.isNumeric(n)&&(t[o]=n.toString().replace(/(<br\s*\/?\s*>\s*)+/g," ").replace(/<.+?>/g,"").replace(/</g,"&lt;").replace(/>/g,"&gt;"))}},n.prototype.addToHash=function(e){this.hash=this.hash||[],this.hash.push({id:e.id,external_id:e.external_id,edit:e.edit,image:e.image,poster_name:e.poster_name,video:e.video,position:e.position,source:e.source})},n.prototype.render=function(e){for(var t="",o=0,n=e.length;n>o;o++)t+=this.renderOne(e[o]);this.$element.append(t)},n.prototype.renderOne=function(e){var t=this.mapFields(e);return this.addToHash(t),this.exclude[t.id]?null:(this.sanitize(t),this.nano(this.template,t))},n.prototype.mapFields=function(e){return{comments:e.comments,comment_count:e.comment_count,deleted_at:e.deleted_at,deleted_by:e.deleted_by,description:e.description,edit:e.edit,external:e.external,external_id:e.external_id,external_created_at:e.external_created_at,feed:e.feed,full_url:e.full_url,id:e.id,image:e.image,video:e.video,like_count:e.like_count,likes:e.likes,location:e.location,position:e.position,poster_url:e.poster_url,poster_id:e.poster_id,poster_image:e.poster_image,poster_name:e.poster_name,source:e.source.source.toLowerCase(),height:e.height,width:e.width,message:e.message,unformatted_message:e.unformatted_message}},n.prototype.nano=function(e,t){return e.replace(/\{([\w\.]*)\}/g,function(e,o){for(var n=o.split("."),s=t[n.shift()],r=0,a=n.length;a>r;r++)s=s[n[r]];return"undefined"!=typeof s&&null!==s?s:""})}}(jQuery),tattoo.modal=null,function(){function e(){var e=this,t=null,o=null,n=null,s=null,r=null,a=null,i=!1,c=function(){s.removeClass("js--modal--"+n),n=null},f=function(){if(!a){var e=r.scrollTop(),t=s.scrollTop();return e?(a=r,e):t?(a=s,t):0}return a.scrollTop()},l=function(e){a?a.scrollTop(e):(s.scrollTop(e),r.scrollTop(e))};e.isOpen=function(){return i},e.open=function(e,r){t||(t=f()),o=e,s.addClass("js--modal"),n&&n.localeCompare(r)&&c(),r&&r.localeCompare(n)&&(n=r,s.addClass("js--modal--"+n)),l(0),i=!0},e.close=function(){return s.removeClass("js--modal"),c(),$.isFunction(o)&&o(),l(t),t=null,o=null,i=!1,!1};var d=function(){s=$("body"),r=$("html"),$(document).keydown(function(t){!i||27!=t.which&&8!=t.which||e.close()})};d(),delete d}$(function(){tattoo.modal=new e})}(),tattoo.social=null,function(){function e(){var e=this;const t=/(\s*#[a-zA-Z0-9]+)+\s*$/;var o=0;_totalFeaturedStories=0,_featuredStoryThatIsOnNowIndex=0,_$featuredIndexSpan=null,_$featuredStoryThatIsOnNow=null,_$featuredStories=null,_$feedStories=null,_$secSoc=null,_$ghostDiv=null,_secSocIsExpanded=!1,_loadedImages=!1,_successCallback=null,_feedCount=0,_featuredCount=0,_hash={},_juicerApiUrl=null,_template=null,_videoCounts={featured:0,feed:0};var n=function(e){e=e.replace(/https?:\/\/t\.co\/[a-zA-Z0-9]+\/?$/,"");var o=e.search(t);return-1==o&&(o=e.length),{text:$.trim(e.substring(0,o)),hashtags:$.trim(e.substring(o,e.length))}},s=function(e){var t=e.find(".js--story__caption"),s=n(t.text());t.text(s.text),e.find(".js--story__hashtags").text(s.hashtags);var r=e.find(".js--story__video"),a=r.find("source").attr("src");a.length?(e.addClass("js--hasVideo"),e.find(".js--story__image").remove()):r.remove();var i=e.find(".js--story--featured__pullQuote"),c=i.text();if(c.length){e.addClass("js--pull"),e.attr("data-idx",o++);var f=n(c);i.text(f.text),e.find(".js--story--featured__pullQuote__hashtags").text(f.hashtags),_featuredCount++,e.detach(),_$featuredStories.append(e)}else _feedCount<50?(_feedCount++,e.detach(),_$feedStories.append(e)):e.remove()},r=function(){_$featuredIndexSpan.text(_featuredStoryThatIsOnNowIndex+1)};e.featuredCount=function(){return _featuredCount},e.feedCount=function(){return _feedCount},e.featuredNext=function(){a(!0)},e.feedNext=function(){_$feedStories.children().last().detach().prependTo(_$feedStories)};var a=function(e){e?(_$featuredStories.append(_$featuredStoryThatIsOnNow.detach()),_$featuredStoryThatIsOnNow=_$featuredStories.children().first()):(_$featuredStoryThatIsOnNow=_$featuredStories.children().last().detach(),_$featuredStories.prepend(_$featuredStoryThatIsOnNow)),_featuredStoryThatIsOnNowIndex=parseInt(_$featuredStoryThatIsOnNow.attr("data-idx")),r()},i=function(){var e=$(this),t=e.hasClass("js--featured__navigation__next");return a(t),!1};e.fixVideos=function(e){c(_$featuredStories,e.featured),c(_$feedStories,e.feed)};var c=function(e,t){e.children().each(function(e,o){$(o).find("video").each(function(){t>e&&this.paused?this.play():e>=t&&!this.paused&&this.pause()})})},f=function(e){_hash=e,_$ghostDiv.children().each(function(e,t){var o=$(t);s(o)})},l=function(t){f(t),_totalFeaturedStories=o,$(".js--featured__navigation__count").text(_totalFeaturedStories),$(".js--featured__navigation__next, .js--featured__navigation__back").on("click",i),_$featuredStoryThatIsOnNow=$(".js--story.js--pull").first(),r(),_$secSoc.on("click",".js--social__trigger--share",function(){_$secSoc.addClass("js--expanded--share"),tattoo.modal.open(function(){_$secSoc.removeClass("js--expanded--share")},"social")});var n=$(".js--social__share__caption");$(".js--social__share__button").hover(function(){n.text($(this).text())},function(){n.text("")}),_$secSoc.on("click",".js--social__trigger",function(){_secSocIsExpanded||(e.fixVideos({feed:9999999999,featured:1}),window.common.analytics.socialFeaturedDetailClick(_$featuredStoryThatIsOnNow.attr("data-service-post-id")),_$secSoc.addClass("js--expanded"),_secSocIsExpanded=!0,_loadedImages||(_$secSoc.find("[data-src]").each(function(){var e=$(this);e.attr("data-src").length?common.deferLoad.enableImage(e):e.remove()}),_$secSoc.find("[data-poster]").each(function(){var e=$(this);e.attr("poster",e.attr("data-poster"))}),_loadedImages=!0),tattoo.modal.open(function(){_$secSoc.removeClass("js--expanded"),e.fixVideos({feed:0,featured:0}),_secSocIsExpanded=!1},"social"))}),$.isFunction(_successCallback)&&_successCallback()};e.setSuccessCallback=function(e){_successCallback=e};var d=function(e,t){if(null==t)return!1;for(var o in e){var n=e[o],s=t[o];if("string"!=typeof n){if("number"!=typeof n){if("object"!=typeof n);else if(d(n,s))return!0}else if(n!=s)return!0}else if(0!=n.localeCompare(s))return!0}return!1};e.hasNewPosts=function(e){u(_$ghostDiv,function(t){$.isFunction(e)&&d(t,_hash)&&e(!0)})};var u=function(e,t){var o=location.search.indexOf("cashcats")>=0;return e.juicer({uri:o?"https://www.juicer.io/api/feeds/test9009988":_juicerApiUrl,template:_template,numberOfPosts:100,success:t})},p=function(){_$featuredIndexSpan=$(".js--featured__navigation__index"),_$feedStories=$(".js--feed__stories"),_$featuredStories=$(".js--featured__stories"),_$secSoc=$(".js--section--social"),_juicerApiUrl=$(".js--social__url").val(),_template=$(".js--social__story__template").html(),_$ghostDiv=u($("<div>"),l),delete p};$(p)}tattoo.social=new e}(),window.common=window.common||{},window.common.deferLoad={},$(function(){common.deferLoad.enableImage=function(e){e.attr("src",e.attr("data-src")),e.attr("srcset",e.attr("data-srcset"))},common.deferLoad.enableVideo=function(e){var t=e.parent();e.detach(),e.attr("src",e.attr("data-src")),e.attr("data-src",""),t.append(e)}}),window.common=window.common||{},window.common.refreshOnRebuild={},function(){function e(){var e=this,t=null,o=null,n=function(e){var o=t;return t=e,o&&0!=t.localeCompare(o)},s=function(t){n(t.time)&&(clearInterval(o),setTimeout(e.gracefulReload,2e4))};e.gracefulReload=function(){$("body").addClass("js--loading"),setTimeout(function(){location.reload()},2e3)};var r=function(){jQuery.ajax({url:"../../built.json",success:s})};setTimeout(function(){o=setInterval(r,6e4)},33e4),r()}window.common.refreshOnRebuild=new e}(),function(){var e=null,t=null,o=null,n=null;$(function(){o=$(".js--featured__stories"),n=$(".js--feed__stories")});var s=function(){tattoo.social.fixVideos({feed:5,featured:3})},r=function(){var e=o.children().first();e.css({opacity:e.css("opacity"),transform:e.css("transform")}),tattoo.social.featuredNext(),e.addClass("fold"),setTimeout(function(){e.css({opacity:"",transform:""})},50),setTimeout(function(){e.removeClass("fold")},3e3),s()},a=function(){var e=n.children().last();e.css({opacity:e.css("opacity"),transform:e.css("transform")}),tattoo.social.feedNext(),setTimeout(function(){e.css({opacity:"",transform:""})},50),s()},i=function(){$("[data-src]").each(function(){var e=$(this);common.deferLoad.enableImage(e),e.removeAttr("[data-src]")}),null==e&&tattoo.social.featuredCount()>3?e=setInterval(r,13331):null!=e&&tattoo.social.featuredCount<=3&&clearInterval(e),null==t&&tattoo.social.feedCount()>4?t=setInterval(a,17827):null!=t&&tattoo.social.feedCount()<=4&&clearInterval(t),$(".js--loading").removeClass("js--loading"),s()};tattoo.social.setSuccessCallback(function(){i(),setTimeout(function(){setInterval(function(){tattoo.social.hasNewPosts(function(e){e&&common.refreshOnRebuild.gracefulReload()})},6e4)},3e5),setTimeout(function(){common.refreshOnRebuild.gracefulReload()},36e5)})}();