function randInt(e,t){return Math.floor(Math.random()*t+e)}function randomGray(){return grays[randInt(0,grays.length-1)]}function drawCircle(e,t,n,o){var a=ctx.createRadialGradient(t,n,0,t,n,e);a.addColorStop(0,"rgba(255, 255, 255, "+o+")"),a.addColorStop(.2,"rgba(255, 255, 255, "+o+")"),a.addColorStop(1,"rgba(255, 255, 255, 0)"),ctx.fillStyle=a,ctx.fillRect(t-e,n-e,2*e,2*e)}function calculateParticleDelta(e,t,n,o,a){var i=(e+t*((n-o)/1e3))%a;return 0>i?i+a:i}function drawDust(){if(requestAnimationFrame(drawDust),now=Date.now(),delta=now-then,delta>interval){then=now-delta%interval,ctx.clearRect(0,0,canvas[0].width,canvas[0].height);for(var e=dust.length-1;e>=0;e--){var t=dust[e];drawCircle(t.nearness,t.centerX,t.centerY,1/t.nearness),t.centerX=calculateParticleDelta(t.centerX,t.velocityX,now,t.updated,canvas[0].width),t.centerY=calculateParticleDelta(t.centerY,t.velocityY,now,t.updated,canvas[0].height),t.updated=Date.now()}}}$(function(){for(var e in svgManifest)$.ajax({url:svgManifest[e],complete:function(e){$(".svgHideContainer").append(e.responseText)}})});var customPath="/discover/on-exhibit/china/",browserName,browserVersion,webfontType;if("undefined"==typeof woffEnabled)var woffEnabled=!0;var svgEnabled=1,woff2Enabled=1;if("undefined"!=typeof customPath)var path=customPath;else{var scripts=document.getElementsByTagName("SCRIPT"),script=scripts[scripts.length-1].src;script.match("://")||"/"==script.charAt(0)||(script="./"+script),path=script.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")}var wfpath=path+"/webfonts/",browsers=[{regex:"MSIE (\\d+\\.\\d+)",versionRegex:"new Number(RegExp.$1)",type:[{version:9,type:"woff"},{version:5,type:"eot"}]},{regex:"Trident/(\\d+\\.\\d+); (.+)?rv:(\\d+\\.\\d+)",versionRegex:"new Number(RegExp.$3)",type:[{version:11,type:"woff"}]},{regex:"Firefox[/s](\\d+\\.\\d+)",versionRegex:"new Number(RegExp.$1)",type:[{version:3.6,type:"woff"},{version:3.5,type:"ttf"}]},{regex:"Chrome/(\\d+\\.\\d+)",versionRegex:"new Number(RegExp.$1)",type:[{version:36,type:"woff2"},{version:6,type:"woff"},{version:4,type:"ttf"}]},{regex:"Mozilla.*Android (\\d+\\.\\d+).*AppleWebKit.*Safari",versionRegex:"new Number(RegExp.$1)",type:[{version:4.1,type:"woff"},{version:3.1,type:"svg#wf"},{version:2.2,type:"ttf"}]},{regex:"Mozilla.*(iPhone|iPad).* OS (\\d+)_(\\d+).* AppleWebKit.*Safari",versionRegex:"new Number(RegExp.$2) + (new Number(RegExp.$3) / 10)",unhinted:!0,type:[{version:5,type:"woff"},{version:4.2,type:"ttf"},{version:1,type:"svg#wf"}]},{regex:"Mozilla.*(iPhone|iPad|BlackBerry).*AppleWebKit.*Safari",versionRegex:"1.0",type:[{version:1,type:"svg#wf"}]},{regex:"Version/(\\d+\\.\\d+)(\\.\\d+)? Safari/(\\d+\\.\\d+)",versionRegex:"new Number(RegExp.$1)",type:[{version:5.1,type:"woff"},{version:3.1,type:"ttf"}]},{regex:"Opera/(\\d+\\.\\d+)(.+)Version/(\\d+\\.\\d+)(\\.\\d+)?",versionRegex:"new Number(RegExp.$3)",type:[{version:24,type:"woff2"},{version:11.1,type:"woff"},{version:10.1,type:"ttf"}]}],browLen=browsers.length,suffix="",i=0;e:for(;browLen>i;i++){var regex=RegExp(browsers[i].regex);if(regex.test(navigator.userAgent)){browserVersion=eval(browsers[i].versionRegex);var typeLen=browsers[i].type.length;for(j=0;j<typeLen;j++)if(browserVersion>=browsers[i].type[j].version&&(1==browsers[i].unhinted&&(suffix="_unhinted"),webfontType=browsers[i].type[j].type,"woff"!=webfontType||woffEnabled)&&("woff2"!=webfontType||woff2Enabled)&&("svg#wf"!=webfontType||svgEnabled))break e}else webfontType="woff"}/(Macintosh|Android)/.test(navigator.userAgent)&&"svg#wf"!=webfontType&&(suffix="_unhinted");var head=document.getElementsByTagName("head")[0],stylesheet=document.createElement("style");stylesheet.setAttribute("type","text/css"),head.appendChild(stylesheet);for(var fonts=[{fontFamily:"FFBauWeb",url:wfpath+"2E3942_0"+suffix+"_0."+webfontType},{fontFamily:"FFBauWebItalic",url:wfpath+"2E3942_1"+suffix+"_0."+webfontType},{fontFamily:"FFBauWebBold",url:wfpath+"2E3942_2"+suffix+"_0."+webfontType}],len=fonts.length,css="",i=0;len>i;i++){var format="svg#wf"==webfontType?'format("svg")':"ttf"==webfontType?'format("truetype")':"eot"==webfontType?"":'format("'+webfontType+'")',css=css+("@font-face{font-family: "+fonts[i].fontFamily+";src:url("+fonts[i].url+")"+format+";");fonts[i].fontWeight&&(css+="font-weight: "+fonts[i].fontWeight+";"),fonts[i].fontStyle&&(css+="font-style: "+fonts[i].fontStyle+";"),css+="}"}stylesheet.styleSheet?stylesheet.styleSheet.cssText=css:stylesheet.innerHTML=css;var dust=[],ctx=null,canvas=null,grays=["#aaaaaa","#bbbbbb","#cccccc","#dddddd","#eeeeee"];$(function(){canvas=$(".dust"),canvas.css({position:"absolute",top:0,left:0,"z-index":-1}),ctx=canvas[0].getContext("2d"),ctx.fillStyle="#aaaaaa";var e=function(){canvas[0].width=$(window).width(),canvas[0].height=$(window).height()};$(window).resize(e),e();for(var t=100;t>0;t--)dust.push({centerX:randInt(0,canvas[0].width),centerY:randInt(0,canvas[0].height),color:randomGray(),nearness:Math.abs(randInt(1,6)+randInt(1,6)-6)+1,updated:Date.now(),velocityY:randInt(0,50)-25,velocityX:randInt(0,110)-10});setTimeout(drawDust,2e3)}),lastFrameTime=0;var fps=30,now,then=Date.now(),interval=1e3/fps,delta;window.common=window.common||{},window.common.analytics=window.common.analytics||{},window.common.analytics.buyTicketsButtonClick=function(e,t){var n=$(e).attr("href");window.common.analytics.event("ticketing","ticketing-exhibition-microsite-"+t,n)},window.common.analytics.scrollDownButtonClick=function(){window.common.analytics.event("one-page","scroll-down-button-click")},window.common.analytics.sponsorLogoClick=function(e){window.common.analytics.event("one-page","logo-click",e)},window.common.analytics.headerNavClick=function(e){var t=$(e).text();window.common.analytics.event("one-page","header-nav-click",t)},window.common.analytics.jumpNavClick=function(e){var t=$.trim($(e).text());window.common.analytics.event("one-page","jump-nav-click",t)},window.common.analytics.visitClick=function(e){var t=$.trim($(e).text());window.common.analytics.event("one-page","visit-click",t)},window.common.analytics.trayClick=function(e,t){var n=t||$.trim($(e).text());window.common.analytics.event("one-page","tray-click",n)},window.common.analytics.introFMLogoClick=function(){window.common.analytics.event("one-page","intro-fm-logo-click")},window.common.analytics.audioEvent=function(e,t){window.common.analytics.event("one-page",e,t)},window.common.analytics.event=function(e,t,n,o){ga("send","event",e,t,n,o?{nonInteraction:1}:null)};