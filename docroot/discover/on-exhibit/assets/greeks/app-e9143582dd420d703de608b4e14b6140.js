function Maps(){var n=this;n.configs=[],n.mapStyle=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#fafafa"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#dbdbdb"},{visibility:"on"}]}];var e=function(e){return new google.maps.Map($(e.selector)[0],$.extend({scrollwheel:!1,styles:n.mapStyle,mapTypeControl:!1,streetViewControl:!1},e.settings))},t=function(n,e){return new google.maps.Marker({position:new google.maps.LatLng(e.settings.center.lat,e.settings.center.lng),map:n,title:e.marker})},o=function(n,e){return new google.maps.Circle($.extend({strokeWeight:0,fillColor:"#d4625d",fillOpacity:.5,map:n},e.circle))},i=function(n){var e=new google.maps.Marker({position:new google.maps.LatLng(41.866507,-87.617013),icon:"../greeks/jg.png",map:n});e.setVisible(!1);var t=!1;google.maps.event.addListener(n,"drag",function(){t||google.maps.event.addListener(n,"idle",function(){var e=n.getCenter();common.analytics.map("center",e.lat()+", "+e.lng())})}),google.maps.event.addListener(n,"zoom_changed",function(){var t=n.getZoom();common.analytics.map("zoom",t),t>=19&&(e.setVisible(!0),common.analytics.eegg("jeff"))})};n.initMaps=function(){for(var a in n.configs)!function(){var r=n.configs[a],c=e(r);if(r.marker&&t(c,r),i(c),r.circle){o(c,r)}}()}}function Canvas(n){var e,t,o,i,a=this,r=1,c=n,s=null;a.isVisible=function(){return c.is(":visible")},a.resize=function(){i=c[0].width=c.width()*r,s=c[0].height=c.height()*r},a.width=function(){return i},a.height=function(n){return n&&(c.height(n),a.resize()),s},a.clear=function(){o.clearRect(0,0,i,s)};var l=function(n){if(0==n.swidth||0==n.dwidth||0==n.sheight||0==n.dheight)return!1;return n.sx<0&&(n.dx-=n.sx,n.sx=0),n.swidth>n.image.naturalWidth-n.sx&&(n.swidth=n.image.naturalWidth-n.sx,n.dwidth=n.swidth),!0};a.drawImage=function(n){return l(n)?(n.sx||n.sy||n.swidth||n.sheight?o.drawImage(n.image,n.sx,n.sy,n.swidth,n.sheight,n.dx,n.dy,n.dwidth,n.dheight):n.dx||n.dy||n.dwidth||n.dheight?o.drawImage(n.image,n.dx,n.dy,n.dwidth,n.dheight):o.drawImage(n.image,n.dx,n.dy),!0):!1};var u=function(){o=c[0].getContext("2d"),e=window.devicePixelRatio||1,t=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1,"undefined"==typeof auto&&(auto=!0),auto&&e!==t&&(r=e/t,o.scale(r,r)),delete u};u()}function ImageRepo(){var n=this,e=window.devicePixelRatio||1,t={};n.pixels=function(n){return n*e},n.fromUrl=function(n,o,i,a){var r=1==e?n:o,c=1==e?i:a,s=t[r];if(s)return s;var l=(new Date).getTime(),u=new Image;return u.src=r,t[r]=u,c&&u.load(function(){bpms=c/((new Date).getTime()-l)}),u},n.loaded=function(n,e){n.complete?e():n.onload=e}}function Menu(n){var e=this;e.initialWidth=n;var t=e.initialWidth;e.left=function(n){return(n-e.width())/2},e.width=function(n){return n?void(t=n):t},e.slices=[],e.selectNone=function(){for(var n in e.slices)e.slices[n].selected=!1}}function Slice(n,e,t){var o=this,i=n,a=1/6;o.id=e,o.selected=!1,o.select=function(){n.selectNone(),o.selected=!0},o.heroUrls=t;var r=t.heroThumbOffset||0,c=t.heroOffCenter||50;o.heroThumbTransitionPercent=0,o.heroOffset=function(n){return r*(o.heroThumbTransitionPercent/100)+(c-50)/100*-1*n*((100-o.heroThumbTransitionPercent)/100)},o.fractionWidth=function(n){return void 0===n?a:void(a=n)},o.pixelWidth=function(){return i.width()*a};var s=function(){n.slices.push(o),delete s};s()}function Tween(n,e,t,o,i,a){var r=this;r.running=!1;var c=function(){return(new Date).getTime()};r.run=function(){var s=Math.abs(t-e)/o*1e3,l=c();r.running=!0;var u=function(){var o=c();o>=l+s?(r.running=!1,n(t),i&&i()):n(Easie[a||"quadOut"](o-l,e,t-e,s)),r.running&&requestAnimationFrame(u)};requestAnimationFrame(u)},r.stop=function(){r.running=!1}}function HeroCanvas(n,e,t){var o,i,a,r,c,s=this,l=null;s.resizeCanvas=function(){a.resize(),l.expanded&&l.width(a.width()),d()};var u=function(n,e,t,o,i){for(var r=0;e>=r;r+=o-10)a.drawImage({image:n,sx:6*o+5,sy:0,swidth:o-10,sheight:i,dx:r,dy:0,dwidth:o-10,dheight:64*i/50})},d=function(){if(a.isVisible()){a.clear();var n=0,e=a.width(),t=a.height();o||v();var i=o.naturalWidth/7,r=o.naturalHeight;o.complete&&u(o,e,t,i,r);var c=0;for(var s in l.slices){var d=l.slices[s],h=d.pixelWidth();d.selected&&a.isVisible()&&!d.hero&&f(d);var m=d.selected?d.hero:o,w=l.left(e)+c;c+=h;var g=m.naturalHeight,p=d.selected?g:r,y=d.selected?(d.hero.naturalWidth-h)/2+d.heroOffset(e):i*n+(i-h)/2,b=h,x=b,C=g;a.drawImage({image:m,sx:y,sy:0,swidth:b,sheight:p,dx:w,dy:0,dwidth:x,dheight:C}),n++}}};s.collapseMenu=function(n,e){l.expanded=!1,r&&r.stop(),c=new Tween(function(n){l.width(n),d()},l.width(),l.initialWidth,2500,e),c.run()},s.expandMenu=function(n,e){return l.expanded=!0,c&&c.stop(),n?void l.width(a.width()):(r=new Tween(function(n){l.width(n),d()},l.width(),a.width(),2500,e),void r.run())};var h=function(n){var e={};for(var t in n)e[t]=l.slices[t].fractionWidth();return e};s.deselect=function(n,e){if(somethingSelected=!1,n){for(var t in l.slices)l.slices[t].fractionWidth(1/6);return a.height(500),e(),void l.selectNone()}var o=h(l.slices);tween=new Tween(function(n){a.height(n),d()},640,500,200,function(){tween=new Tween(function(n){for(var e in l.slices){var t=l.slices[e];t.heroThumbTransitionPercent=n;var i=o[e];t.fractionWidth(i+(1/6-i)*(n/100))}d()},0,100,200,function(){l.selectNone(),e()}),tween.run()}),tween.run()};var f=function(n){n.hero=i.fromUrl(n.heroUrls.hero,n.heroUrls.heroRetina)},m=function(n,e){for(var t in l.slices){var o=l.slices[t];o.fractionWidth(o===n?1:0)}a.height(640),d(),e()};s.select=function(n,e,t){l.expanded||s.expandMenu(e),somethingSelected=!0;var o=l.slices[n];return a.isVisible()?(f(o),void i.loaded(o.hero,function(){o.select();var n=h(l.slices);return e?void m(o,t):(tween=new Tween(function(e){for(var t in l.slices){var i=l.slices[t];i.heroThumbTransitionPercent=e;var a=n[t];i.fractionWidth(i===o?a+(1-a)*(100-e)/100:e*a/100)}d()},100,0,200,function(){a.height()<i.pixels(640)?(tween=new Tween(function(n){a.height(n),d()},500,640,200,t()),tween.run()):t()}),void tween.run())})):(o.select(),void m(o,t))};var v=function(){o=i.fromUrl(e.sprite,e.spriteRetina),i.loaded(o,function(){d()})},w=function(){i=new ImageRepo,l=new Menu(i.pixels(500));for(var e=0;6>e;e++)new Slice(l,e,t[e]);a=new Canvas(n,l),s.resizeCanvas(),delete w};w()}function Tween(n,e,t,o,i,a){var r=this;r.running=!1;var c=function(){return(new Date).getTime()};r.run=function(){var s=Math.abs(t-e)/o*1e3,l=c();r.running=!0;var u=function(){var o=c();o>=l+s?(r.running=!1,n(t),i&&i()):n(Easie[a||"quadOut"](o-l,e,t-e,s)),r.running&&requestAnimationFrame(u)};requestAnimationFrame(u)},r.stop=function(){r.running=!1}}function EmojiFireworks(n,e,t,o,i){function a(n,e,t,o,i,a){r=this,r.element=null,r.x=function(n){return o*Math.cos(t)*n},r.y=function(n){return o*Math.sin(t)*n+180*n*n},r.z=function(n){return 1+n*i/5},r.rot=function(n){return n*a},r.getMarkup=function(){return"<span class='emojiSparkle'>"+n+"</span>"}}var r=this,c=null,s=function(n){for(var e in d){var t=d[e];t.element.css({transform:"translate("+t.x(n)+"px, "+t.y(n)+"px) scale("+t.z(n)+")",opacity:1-n*n})}},l=function(){return(new Date).getTime()},u=function(){for(var n in d)d[n].element.remove()},d=[],h=function(){c=l();for(var r=0;10>r;r++){var f=360*Math.random()+1,m=250*Math.random()+50,v=20*Math.random(),w=1e3*Math.random()-500,g=new a(n,e,f,m,v,w);g.element=$(g.getMarkup()).css({left:e.x,top:e.y}).appendTo(t),i&&g.element.click(function(n){i.trigger(jQuery.Event("click",{pageX:n.pageX,pageY:n.pageY}))}),d.push(g)}var p=new Tween(function(n){s(n)},0,1,1e3/o,u,"linear");p.run(),delete h};h()}$(function(){for(var n in svgManifest)$.ajax({url:svgManifest[n],complete:function(n){$(".svgHideContainer").append(n.responseText)}})}),window.common=window.common||{},window.common.analytics=window.common.analytics||{},window.common.analytics.buyTicketsButtonClick=function(n,e){var t=$(n).attr("href");window.common.analytics.event("ticketing","ticketing-exhibition-microsite-"+e,t)},window.common.analytics.scrollDownButtonClick=function(){window.common.analytics.event("one-page","scroll-down-button-click")},window.common.analytics.sponsorLogoClick=function(n){window.common.analytics.event("one-page","logo-click",n)},window.common.analytics.headerNavClick=function(n){var e=$(n).text();window.common.analytics.event("one-page","header-nav-click",e)},window.common.analytics.jumpNavClick=function(n){var e=$.trim($(n).text());window.common.analytics.event("one-page","jump-nav-click",e)},window.common.analytics.visitClick=function(n){var e=$.trim($(n).text());window.common.analytics.event("one-page","visit-click",e)},window.common.analytics.footerClick=function(n){var e=$.trim($(n).text());window.common.analytics.event("one-page","footer-click",e)},window.common.analytics.trayClick=function(n,e){var t=e||$.trim($(n).text());window.common.analytics.event("one-page","tray-click",t)},window.common.analytics.introFMLogoClick=function(){window.common.analytics.event("one-page","intro-fm-logo-click")},window.common.analytics.audioEvent=function(n,e){window.common.analytics.event("one-page",n,e)},window.common.analytics.event=function(n,e,t,o){ga("send","event",n,e,t,o?{nonInteraction:1}:null)},window.common.analytics.changePage=function(){ga("set","page",window.location.pathname+window.location.hash),ga("send","pageview")},window.common.analytics.menuInteraction=function(n,e,t){window.common.analytics.event("one-page-menu",n,e,t)},window.common.analytics.eegg=function(n,e){window.common.analytics.event("one-page","eegg",n,e)},window.common.analytics.map=function(n,e,t){window.common.analytics.event("one-page-map",n,e,t)},window.common.analytics.footerShow=function(){window.common.analytics.event("one-page","footer-show",null,!0)},function(){function n(n){e.push(n)}var e=[];window.common.onScroll=n,$(function(){var n=$(document),t=n.scrollTop();$(document).scroll(function(){var o=n.scrollTop(),i=o>t;for(var a in e)e[a](i,o,t);t=o})})}(),function(){this.Easie=function(){function n(){}return n.linear=function(n,e,t,o){return e+t*n/o},n.backIn=function(n,e,t,o,i){return null==i&&(i=1.70158),t*(n/=o)*n*((i+1)*n-i)+e},n.backOut=function(n,e,t,o,i){return null==i&&(i=1.70158),t*((n=n/o-1)*n*((i+1)*n+i)+1)+e},n.backInOut=function(n,e,t,o,i){return null==i&&(i=1.70158),(n/=o/2)<1?t/2*n*n*(((i*=1.525)+1)*n-i)+e:t/2*((n-=2)*n*(((i*=1.525)+1)*n+i)+2)+e},n.bounceOut=function(n,e,t,o){return(n/=o)<1/2.75?7.5625*t*n*n+e:2/2.75>n?t*(7.5625*(n-=1.5/2.75)*n+.75)+e:2.5/2.75>n?t*(7.5625*(n-=2.25/2.75)*n+.9375)+e:t*(7.5625*(n-=2.625/2.75)*n+.984375)+e},n.bounceIn=function(e,t,o,i){return o-n.bounceOut(i-e,0,o,i)+t},n.bounceInOut=function(e,t,o,i){return i/2>e?.5*n.bounceIn(2*e,0,o,i)+t:.5*n.bounceOut(2*e-i,0,o,i)+.5*o+t},n.circIn=function(n,e,t,o){return-t*(Math.sqrt(1-(n/=o)*n)-1)+e},n.circOut=function(n,e,t,o){return t*Math.sqrt(1-(n=n/o-1)*n)+e},n.circInOut=function(n,e,t,o){return(n/=o/2)<1?-t/2*(Math.sqrt(1-n*n)-1)+e:t/2*(Math.sqrt(1-(n-=2)*n)+1)+e},n.cubicIn=function(n,e,t,o){return t*(n/=o)*n*n+e},n.cubicOut=function(n,e,t,o){return t*((n=n/o-1)*n*n+1)+e},n.cubicInOut=function(n,e,t,o){return(n/=o/2)<1?t/2*n*n*n+e:t/2*((n-=2)*n*n+2)+e},n.elasticOut=function(n,e,t,o,i,a){var r;return null==i&&(i=null),null==a&&(a=null),0===n?e:1===(n/=o)?e+t:(null==a&&(a=.3*o),null==i||i<Math.abs(t)?(i=t,r=a/4):r=a/(2*Math.PI)*Math.asin(t/i),i*Math.pow(2,-10*n)*Math.sin(2*(n*o-r)*Math.PI/a)+t+e)},n.elasticIn=function(n,e,t,o,i,a){var r;return null==i&&(i=null),null==a&&(a=null),0===n?e:1===(n/=o)?e+t:(null==a&&(a=.3*o),null==i||i<Math.abs(t)?(i=t,r=a/4):r=a/(2*Math.PI)*Math.asin(t/i),n-=1,-(i*Math.pow(2,10*n))*Math.sin(2*(n*o-r)*Math.PI/a)+e)},n.elasticInOut=function(n,e,t,o,i,a){var r;return null==i&&(i=null),null==a&&(a=null),0===n?e:2===(n/=o/2)?e+t:(null==a&&(a=.3*o*1.5),null==i||i<Math.abs(t)?(i=t,r=a/4):r=a/(2*Math.PI)*Math.asin(t/i),1>n?-.5*i*Math.pow(2,10*(n-=1))*Math.sin((n*o-r)*(2*Math.PI/a))+e:i*Math.pow(2,-10*(n-=1))*Math.sin(2*(n*o-r)*Math.PI/a)+t+e)},n.expoIn=function(n,e,t,o){return 0===n?e:t*Math.pow(2,10*(n/o-1))+e},n.expoOut=function(n,e,t,o){return n===o?e+t:t*(-Math.pow(2,-10*n/o)+1)+e},n.expoInOut=function(n,e,t,o){return 0===n?e:n===o?e+t:(n/=o/2)<1?t/2*Math.pow(2,10*(n-1))+e:t/2*(-Math.pow(2,-10*(n-1))+2)+e},n.linearNone=function(n,e,t,o){return t*n/o+e},n.linearIn=function(e,t,o,i){return n.linearNone(e,t,o,i)},n.linearOut=function(e,t,o,i){return n.linearNone(e,t,o,i)},n.linearInOut=function(e,t,o,i){return n.linearNone(e,t,o,i)},n.quadIn=function(n,e,t,o){return t*(n/=o)*n+e},n.quadOut=function(n,e,t,o){return-t*(n/=o)*(n-2)+e},n.quadInOut=function(n,e,t,o){return(n/=o/2)<1?t/2*n*n+e:-t/2*((n-=1)*(n-2)-1)+e},n.quartIn=function(n,e,t,o){return t*(n/=o)*n*n*n+e},n.quartOut=function(n,e,t,o){return-t*((n=n/o-1)*n*n*n-1)+e},n.quartInOut=function(n,e,t,o){return(n/=o/2)<1?t/2*n*n*n*n+e:-t/2*((n-=2)*n*n*n-2)+e},n.quintIn=function(n,e,t,o){return t*(n/=o)*n*n*n*n+e},n.quintOut=function(n,e,t,o){return t*((n=n/o-1)*n*n*n*n+1)+e},n.quintInOut=function(n,e,t,o){return(n/=o/2)<1?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},n.sineIn=function(n,e,t,o){return-t*Math.cos(n/o*(Math.PI/2))+t+e},n.sineOut=function(n,e,t,o){return t*Math.sin(n/o*(Math.PI/2))+e},n.sineInOut=function(n,e,t,o){return-t/2*(Math.cos(Math.PI*n/o)-1)+e},n}()}.call(this);var greeks=null;!function(){function n(){var n,e=this,t=null,o=null,i=null,a=null,r=[],c={heroCanvas:{isExpanded:!1,isMouseOver:!1,isScrolledDownEnough:!1},selectedObject:null,menuVisible:!1};e.maps=null,e.toggleMobileMenu=function(){$(".stickyHeader").toggleClass("open")};var s={addCallback:function(){c.heroCanvas.isScrolledDownEnough=!0,d()},removeCallback:function(){c.heroCanvas.isScrolledDownEnough=!1,d()},threshhold:null},l={addCallback:function(){c.selectedObject&&(o.addClass("on"),common.analytics.footerShow())},removeCallback:function(){o.removeClass("on")},threshhold:null},u={addCallback:function(){f()},removeCallback:function(){},threshhold:null},d=function(){var n=c.heroCanvas.isExpanded;c.heroCanvas.isExpanded=c.selectedObject||c.heroCanvas.isMouseOver||c.heroCanvas.isScrolledDownEnough,c.heroCanvas.isExpanded&&!n?a.expandMenu(!1,function(){h()}):!c.heroCanvas.isExpanded&&n&&(h(),a.collapseMenu(!1))},h=function(){var n=c.menuVisible;c.menuVisible=c.heroCanvas.isExpanded&&!c.selectedObject,c.menuVisible&&!n?(t.addClass("menu"),common.analytics.menuInteraction("expand",null,!0),f()):!c.menuVisible&&n&&t.removeClass("menu")},f=function(){$(document).scrollTop()>u.threshhold&&c.menuVisible&&c.heroCanvas.isMouseOver&&common.analytics.menuInteraction("see-rollovers",null,!0)},m=function(){i=$(document).height(),l.threshhold=i-$(window).height()-200,u.threshhold=$(".headerWrapper").height()+$(".introduction").height()+$(".objectMenuWrapper").height()-$(".objectMenu__objectCaption").first().outerHeight()-$(window).height()};e.deselectObject=function(e){return c.selectedObject?(t.removeClass("pastGo detail"),p(),$("html, body").scrollTop($("html, body").scrollTop()+n),$(".on").removeClass("on"),$(".focus").removeClass("focus"),o.removeClass("on"),c.selectedObject=null,a.deselect(e,function(){m(),h(),p()}),location.hash="",!1):!1};var v=function(n){n.find("img").each(function(n,e){var t=$(e),o=t.attr("data-src"),i=t.attr("data-srcset");o&&t.attr("src",o),i&&t.attr("srcset",i)})},w=!1,g=function(){w||(y(l),w=!0)};e.selectObject=function(e,o,i){if(i&&t.addClass("noanim"),o==c.selectedObject)return!1;c.selectedObject=o,h();var s=$("html, body");s.animate({scrollTop:n},i?1:500,"easeOutQuad",function(){t.addClass("pastGo"),s.scrollTop(0),p(),i&&t.removeClass("noanim"),a.select(r.indexOf(o),i,function(){m(),g()})}),t.removeClass("start"),$(".on, .on--previous, .on--next").removeClass("on on--previous on--next"),$(".focus").removeClass("focus");var l=$(".footerNav ."+o).addClass("on"),u=$(".footerNav li"),d=l.index();return u.eq(d-1).addClass("on--previous"),u.eq((d+1)%u.length).addClass("on--next"),v($(".detail."+o).addClass("focus")),t.addClass("detail"),!1};var p=function(){n=$(".objectsSponsors").offset().top-$(".stickyHeader").height(),s.threshhold=n},y=function(n){var e=!0;common.onScroll(function(t,o,i){o>=n.threshhold&&(i<n.threshhold||e)?n.addCallback(o):o<n.threshhold&&(i>=n.threshhold||e)&&n.removeCallback(o),e=!1})},b=function(){return location.hash.length?location.hash.substr(1):null},x=function(n,t){var o=b();return o?e.selectObject(null,o,t):e.deselectObject(t),common.analytics.changePage(),!1},C=function(){e.maps=new Maps,$(window).on("hashchange",x),$(window).on("resize",m),y(s),y(u),y({addCallback:function(){t.removeClass("start")},removeCallback:function(){c.selectedObject||t.addClass("start")},threshhold:1}),$(function(){$(".objectMenu a").each(function(){r.push($(this).attr("href").substr(1))}),$(".objectMenuWrapper").hover(function(){c.heroCanvas.isMouseOver=!0,d(),f()},function(){c.heroCanvas.isMouseOver=!1,d()}),a=new HeroCanvas($(".heroes"),e.heroThumbnailImages,e.heroImages),$(window).on("resize",a.resizeCanvas),a.resizeCanvas(),t=$("body"),o=$(".footerNav"),p();var n=[{counter:0,symbol:"&#x1F3FA;",selector:".lekythos p.intro em"},{counter:0,symbol:"&#x1F373;",selector:".cycladic .insert strong"},{counter:0,symbol:"&#x1F458;",selector:".etymology h4"}];for(var i in n)!function(){var e=n[i];$(e.selector).click(function(n){return++e.counter>=10&&(common.analytics.eegg("emoji-"+e.symbol),new EmojiFireworks(e.symbol,{x:n.pageX,y:n.pageY},t,1500,$(this))),!1})}();var s=0,l=!1,u=$(".overallImage").click(function(){++s>=10&&(l||(common.analytics.eegg("twirl-trigger-"+$(this).attr("alt")),u.addClass("eegg").hover(function(){common.analytics.eegg("twirl-over-"+$(this).attr("alt"))},function(){common.analytics.eegg("twirl-out-"+$(this).attr("alt"))}),l=!0))});m(),x(null,!0)}),delete C};C()}greeks=new n}();