function Maps(){var n=this;n.configs=[],n.mapStyle=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#fafafa"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#dbdbdb"},{visibility:"on"}]}];var e=function(e){return new google.maps.Map($(e.selector)[0],$.extend({scrollwheel:!1,styles:n.mapStyle,mapTypeControl:!1,streetViewControl:!1},e.settings))},t=function(n,e){return new google.maps.Marker({position:new google.maps.LatLng(e.settings.center.lat,e.settings.center.lng),map:n,title:e.marker})},i=function(n,e){return new google.maps.Circle($.extend({strokeWeight:0,fillColor:"#d4625d",fillOpacity:.5,map:n},e.circle))},o=function(n){var e=new google.maps.Marker({position:new google.maps.LatLng(41.866507,-87.617013),icon:"../greeks/jg.png",map:n});e.setVisible(!1);var t=!1;google.maps.event.addListener(n,"drag",function(){t||google.maps.event.addListener(n,"idle",function(){var e=n.getCenter();common.analytics.map("center",e.lat()+", "+e.lng())})}),google.maps.event.addListener(n,"zoom_changed",function(){var t=n.getZoom();common.analytics.map("zoom",t),t>=19&&(e.setVisible(!0),common.analytics.eegg("jeff"))})};n.initMaps=function(){for(var a in n.configs)!function(){var r=n.configs[a],u=e(r);if(r.marker&&t(u,r),o(u),r.circle){i(u,r)}}()}}function Canvas(n){var e,t,i,o,a=this,r=1,u=n,c=null;a.isVisible=function(){return u.is(":visible")},a.resize=function(){o=u[0].width=u.width()*r,c=u[0].height=u.height()*r},a.width=function(){return o},a.height=function(n){return n&&(u.height(n),a.resize()),c},a.clear=function(){i.clearRect(0,0,o,c)};var l=function(n){if(0==n.swidth||0==n.dwidth||0==n.sheight||0==n.dheight)return!1;return n.sx<0&&(n.dx-=n.sx,n.sx=0),n.swidth>n.image.naturalWidth-n.sx&&(n.swidth=n.image.naturalWidth-n.sx,n.dwidth=n.swidth),!0};a.drawImage=function(n){return l(n)?(n.sx||n.sy||n.swidth||n.sheight?i.drawImage(n.image,n.sx,n.sy,n.swidth,n.sheight,n.dx,n.dy,n.dwidth,n.dheight):n.dx||n.dy||n.dwidth||n.dheight?i.drawImage(n.image,n.dx,n.dy,n.dwidth,n.dheight):i.drawImage(n.image,n.dx,n.dy),!0):!1};var s=function(){i=u[0].getContext("2d"),e=window.devicePixelRatio||1,t=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,"undefined"==typeof auto&&(auto=!0),auto&&e!==t&&(r=e/t,i.scale(r,r)),delete s};s()}function ImageRepo(){var n=this,e=window.devicePixelRatio||1,t={};n.pixels=function(n){return n*e},n.fromUrl=function(n,i,o,a){var r=1==e?n:i,u=1==e?o:a,c=t[r];if(c)return c;var l=(new Date).getTime(),s=new Image;return s.src=r,t[r]=s,u&&s.load(function(){bpms=u/((new Date).getTime()-l)}),s},n.loaded=function(n,e){n.complete?e():n.onload=e}}function Menu(n){var e=this;e.initialWidth=n;var t=e.initialWidth;e.left=function(n){return(n-e.width())/2},e.width=function(n){return n?void(t=n):t},e.slices=[],e.selectNone=function(){for(var n in e.slices)e.slices[n].selected=!1}}function Slice(n,e,t){var i=this,o=n,a=1/6;i.id=e,i.selected=!1,i.select=function(){n.selectNone(),i.selected=!0},i.heroUrls=t;var r=t.heroThumbOffset||0,u=t.heroOffCenter||50;i.heroThumbTransitionPercent=0,i.heroOffset=function(n){return r*(i.heroThumbTransitionPercent/100)+(u-50)/100*-1*n*((100-i.heroThumbTransitionPercent)/100)},i.fractionWidth=function(n){return void 0===n?a:void(a=n)},i.pixelWidth=function(){return o.width()*a};var c=function(){n.slices.push(i),delete c};c()}function Tween(n,e,t,i,o,a){var r=this;r.running=!1;var u=function(){return(new Date).getTime()};r.run=function(){var c=Math.abs(t-e)/i*1e3,l=u();r.running=!0;var s=function(){var i=u();i>=l+c?(r.running=!1,n(t),o&&o()):n(Easie[a||"quadOut"](i-l,e,t-e,c)),r.running&&requestAnimationFrame(s)};requestAnimationFrame(s)},r.stop=function(){r.running=!1}}function HeroCanvas(n,e,t){var i,o,a,r,u,c=this,l=null;c.resizeCanvas=function(){a.resize(),l.expanded&&l.width(a.width()),h()};var s=function(n,e,t,i,o){for(var r=0;e>=r;r+=i-10)a.drawImage({image:n,sx:6*i+5,sy:0,swidth:i-10,sheight:o,dx:r,dy:0,dwidth:i-10,dheight:64*o/50})},h=function(){if(a.isVisible()){a.clear();var n=0,e=a.width(),t=a.height();i||w();var o=i.naturalWidth/7,r=i.naturalHeight;i.complete&&s(i,e,t,o,r);var u=0;for(var c in l.slices){var h=l.slices[c],f=h.pixelWidth();h.selected&&a.isVisible()&&!h.hero&&d(h);var m=h.selected?h.hero:i,v=l.left(e)+u;u+=f;var g=m.naturalHeight,p=h.selected?g:r,y=h.selected?(h.hero.naturalWidth-f)/2+h.heroOffset(e):o*n+(o-f)/2,b=f,M=b,I=g;a.drawImage({image:m,sx:y,sy:0,swidth:b,sheight:p,dx:v,dy:0,dwidth:M,dheight:I}),n++}}};c.collapseMenu=function(n,e){l.expanded=!1,r&&r.stop(),u=new Tween(function(n){l.width(n),h()},l.width(),l.initialWidth,2500,e),u.run()},c.expandMenu=function(n,e){return l.expanded=!0,u&&u.stop(),n?void l.width(a.width()):(r=new Tween(function(n){l.width(n),h()},l.width(),a.width(),2500,e),void r.run())};var f=function(n){var e={};for(var t in n)e[t]=l.slices[t].fractionWidth();return e};c.deselect=function(n,e){if(somethingSelected=!1,n){for(var t in l.slices)l.slices[t].fractionWidth(1/6);return a.height(500),e(),void l.selectNone()}var i=f(l.slices);tween=new Tween(function(n){a.height(n),h()},640,500,200,function(){tween=new Tween(function(n){for(var e in l.slices){var t=l.slices[e];t.heroThumbTransitionPercent=n;var o=i[e];t.fractionWidth(o+(1/6-o)*(n/100))}h()},0,100,200,function(){l.selectNone(),e()}),tween.run()}),tween.run()};var d=function(n){n.hero=o.fromUrl(n.heroUrls.hero,n.heroUrls.heroRetina)},m=function(n,e){for(var t in l.slices){var i=l.slices[t];i.fractionWidth(i===n?1:0)}a.height(640),h(),e()};c.select=function(n,e,t){l.expanded||c.expandMenu(e),somethingSelected=!0;var i=l.slices[n];return a.isVisible()?(d(i),void o.loaded(i.hero,function(){i.select();var n=f(l.slices);return e?void m(i,t):(tween=new Tween(function(e){for(var t in l.slices){var o=l.slices[t];o.heroThumbTransitionPercent=e;var a=n[t];o.fractionWidth(o===i?a+(1-a)*(100-e)/100:e*a/100)}h()},100,0,200,function(){a.height()<o.pixels(640)?(tween=new Tween(function(n){a.height(n),h()},500,640,200,t()),tween.run()):t()}),void tween.run())})):(i.select(),void m(i,t))};var w=function(){i=o.fromUrl(e.sprite,e.spriteRetina),o.loaded(i,function(){h()})},v=function(){o=new ImageRepo,l=new Menu(o.pixels(500));for(var e=0;6>e;e++)new Slice(l,e,t[e]);a=new Canvas(n,l),c.resizeCanvas(),delete v};v()}function Tween(n,e,t,i,o,a){var r=this;r.running=!1;var u=function(){return(new Date).getTime()};r.run=function(){var c=Math.abs(t-e)/i*1e3,l=u();r.running=!0;var s=function(){var i=u();i>=l+c?(r.running=!1,n(t),o&&o()):n(Easie[a||"quadOut"](i-l,e,t-e,c)),r.running&&requestAnimationFrame(s)};requestAnimationFrame(s)},r.stop=function(){r.running=!1}}function EmojiFireworks(n,e,t,i,o){function a(n,e,t,i,o,a){r=this,r.element=null,r.x=function(n){return i*Math.cos(t)*n},r.y=function(n){return i*Math.sin(t)*n+180*n*n},r.z=function(n){return 1+n*o/5},r.rot=function(n){return n*a},r.getMarkup=function(){return"<span class='emojiSparkle'>"+n+"</span>"}}var r=this,u=null,c=function(n){for(var e in h){var t=h[e];t.element.css({transform:"translate("+t.x(n)+"px, "+t.y(n)+"px) scale("+t.z(n)+")",opacity:1-n*n})}},l=function(){return(new Date).getTime()},s=function(){for(var n in h)h[n].element.remove()},h=[],f=function(){u=l();for(var r=0;10>r;r++){var d=360*Math.random()+1,m=250*Math.random()+50,w=20*Math.random(),v=1e3*Math.random()-500,g=new a(n,e,d,m,w,v);g.element=$(g.getMarkup()).css({left:e.x,top:e.y}).appendTo(t),o&&g.element.click(function(n){o.trigger(jQuery.Event("click",{pageX:n.pageX,pageY:n.pageY}))}),h.push(g)}var p=new Tween(function(n){c(n)},0,1,1e3/i,s,"linear");p.run(),delete f};f()}$(function(){for(var n in svgManifest)$.ajax({url:svgManifest[n],complete:function(n){$(".svgHideContainer").append(n.responseText)}})}),window.common=window.common||{},window.common.analytics=window.common.analytics||{},window.common.analytics.buyTicketsButtonClick=function(n,e){var t=$(n).attr("href");window.common.analytics.event("ticketing","ticketing-exhibition-microsite-"+e,t)},window.common.analytics.scrollDownButtonClick=function(){window.common.analytics.event("one-page","scroll-down-button-click")},window.common.analytics.sponsorLogoClick=function(n){window.common.analytics.event("one-page","logo-click",n)},window.common.analytics.headerNavClick=function(n){var e=$(n).text();window.common.analytics.event("one-page","header-nav-click",e)},window.common.analytics.jumpNavClick=function(n){var e=$.trim($(n).text());window.common.analytics.event("one-page","jump-nav-click",e)},window.common.analytics.visitClick=function(n){var e=$.trim($(n).text());window.common.analytics.event("one-page","visit-click",e)},window.common.analytics.footerClick=function(n,e){var t=e||$.trim($(n).text());window.common.analytics.event("one-page","footer-click",t)},window.common.analytics.trayClick=function(n,e,t){var i=e||$.trim($(n).text());window.common.analytics.event("one-page","tray-click"+(t?t:""),i)},window.common.analytics.introFMLogoClick=function(){window.common.analytics.event("one-page","intro-fm-logo-click")},window.common.analytics.audioEvent=function(n,e){window.common.analytics.event("one-page",n,e)},window.common.analytics.event=function(n,e,t,i){ga("send","event",n,e,t,i?{nonInteraction:1}:null)},window.common.analytics.changePage=function(){ga("set","page",window.location.pathname+window.location.hash),ga("send","pageview")},window.common.analytics.menuInteraction=function(n,e,t){window.common.analytics.event("one-page-menu",n,e,t)},window.common.analytics.eegg=function(n,e){window.common.analytics.event("one-page","eegg",n,e)},window.common.analytics.map=function(n,e,t){window.common.analytics.event("one-page-map",n,e,t)},window.common.analytics.footerShow=function(){window.common.analytics.event("one-page","footer-show",null,!0)},function(){function n(n){e.push(n)}var e=[];window.common.onScroll=n,$(function(){var n=$(document),t=n.scrollTop();$(document).scroll(function(){var i=n.scrollTop(),o=i>t;for(var a in e)e[a](o,i,t);t=i})})}(),function(){this.Easie=function(){function n(){}return n.linear=function(n,e,t,i){return e+t*n/i},n.backIn=function(n,e,t,i,o){return null==o&&(o=1.70158),t*(n/=i)*n*((o+1)*n-o)+e},n.backOut=function(n,e,t,i,o){return null==o&&(o=1.70158),t*((n=n/i-1)*n*((o+1)*n+o)+1)+e},n.backInOut=function(n,e,t,i,o){return null==o&&(o=1.70158),(n/=i/2)<1?t/2*n*n*(((o*=1.525)+1)*n-o)+e:t/2*((n-=2)*n*(((o*=1.525)+1)*n+o)+2)+e},n.bounceOut=function(n,e,t,i){return(n/=i)<1/2.75?7.5625*t*n*n+e:2/2.75>n?t*(7.5625*(n-=1.5/2.75)*n+.75)+e:2.5/2.75>n?t*(7.5625*(n-=2.25/2.75)*n+.9375)+e:t*(7.5625*(n-=2.625/2.75)*n+.984375)+e},n.bounceIn=function(e,t,i,o){return i-n.bounceOut(o-e,0,i,o)+t},n.bounceInOut=function(e,t,i,o){return o/2>e?.5*n.bounceIn(2*e,0,i,o)+t:.5*n.bounceOut(2*e-o,0,i,o)+.5*i+t},n.circIn=function(n,e,t,i){return-t*(Math.sqrt(1-(n/=i)*n)-1)+e},n.circOut=function(n,e,t,i){return t*Math.sqrt(1-(n=n/i-1)*n)+e},n.circInOut=function(n,e,t,i){return(n/=i/2)<1?-t/2*(Math.sqrt(1-n*n)-1)+e:t/2*(Math.sqrt(1-(n-=2)*n)+1)+e},n.cubicIn=function(n,e,t,i){return t*(n/=i)*n*n+e},n.cubicOut=function(n,e,t,i){return t*((n=n/i-1)*n*n+1)+e},n.cubicInOut=function(n,e,t,i){return(n/=i/2)<1?t/2*n*n*n+e:t/2*((n-=2)*n*n+2)+e},n.elasticOut=function(n,e,t,i,o,a){var r;return null==o&&(o=null),null==a&&(a=null),0===n?e:1===(n/=i)?e+t:(null==a&&(a=.3*i),null==o||o<Math.abs(t)?(o=t,r=a/4):r=a/(2*Math.PI)*Math.asin(t/o),o*Math.pow(2,-10*n)*Math.sin(2*(n*i-r)*Math.PI/a)+t+e)},n.elasticIn=function(n,e,t,i,o,a){var r;return null==o&&(o=null),null==a&&(a=null),0===n?e:1===(n/=i)?e+t:(null==a&&(a=.3*i),null==o||o<Math.abs(t)?(o=t,r=a/4):r=a/(2*Math.PI)*Math.asin(t/o),n-=1,-(o*Math.pow(2,10*n))*Math.sin(2*(n*i-r)*Math.PI/a)+e)},n.elasticInOut=function(n,e,t,i,o,a){var r;return null==o&&(o=null),null==a&&(a=null),0===n?e:2===(n/=i/2)?e+t:(null==a&&(a=.3*i*1.5),null==o||o<Math.abs(t)?(o=t,r=a/4):r=a/(2*Math.PI)*Math.asin(t/o),1>n?-.5*o*Math.pow(2,10*(n-=1))*Math.sin((n*i-r)*(2*Math.PI/a))+e:o*Math.pow(2,-10*(n-=1))*Math.sin(2*(n*i-r)*Math.PI/a)+t+e)},n.expoIn=function(n,e,t,i){return 0===n?e:t*Math.pow(2,10*(n/i-1))+e},n.expoOut=function(n,e,t,i){return n===i?e+t:t*(-Math.pow(2,-10*n/i)+1)+e},n.expoInOut=function(n,e,t,i){return 0===n?e:n===i?e+t:(n/=i/2)<1?t/2*Math.pow(2,10*(n-1))+e:t/2*(-Math.pow(2,-10*(n-1))+2)+e},n.linearNone=function(n,e,t,i){return t*n/i+e},n.linearIn=function(e,t,i,o){return n.linearNone(e,t,i,o)},n.linearOut=function(e,t,i,o){return n.linearNone(e,t,i,o)},n.linearInOut=function(e,t,i,o){return n.linearNone(e,t,i,o)},n.quadIn=function(n,e,t,i){return t*(n/=i)*n+e},n.quadOut=function(n,e,t,i){return-t*(n/=i)*(n-2)+e},n.quadInOut=function(n,e,t,i){return(n/=i/2)<1?t/2*n*n+e:-t/2*((n-=1)*(n-2)-1)+e},n.quartIn=function(n,e,t,i){return t*(n/=i)*n*n*n+e},n.quartOut=function(n,e,t,i){return-t*((n=n/i-1)*n*n*n-1)+e},n.quartInOut=function(n,e,t,i){return(n/=i/2)<1?t/2*n*n*n*n+e:-t/2*((n-=2)*n*n*n-2)+e},n.quintIn=function(n,e,t,i){return t*(n/=i)*n*n*n*n+e},n.quintOut=function(n,e,t,i){return t*((n=n/i-1)*n*n*n*n+1)+e},n.quintInOut=function(n,e,t,i){return(n/=i/2)<1?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},n.sineIn=function(n,e,t,i){return-t*Math.cos(n/i*(Math.PI/2))+t+e},n.sineOut=function(n,e,t,i){return t*Math.sin(n/i*(Math.PI/2))+e},n.sineInOut=function(n,e,t,i){return-t/2*(Math.cos(Math.PI*n/i)-1)+e},n}()}.call(this),function(){this.Easie=function(){function n(){}return n.linear=function(n,e,t,i){return e+t*n/i},n.backIn=function(n,e,t,i,o){return null==o&&(o=1.70158),t*(n/=i)*n*((o+1)*n-o)+e},n.backOut=function(n,e,t,i,o){return null==o&&(o=1.70158),t*((n=n/i-1)*n*((o+1)*n+o)+1)+e},n.backInOut=function(n,e,t,i,o){return null==o&&(o=1.70158),(n/=i/2)<1?t/2*n*n*(((o*=1.525)+1)*n-o)+e:t/2*((n-=2)*n*(((o*=1.525)+1)*n+o)+2)+e},n.bounceOut=function(n,e,t,i){return(n/=i)<1/2.75?7.5625*t*n*n+e:2/2.75>n?t*(7.5625*(n-=1.5/2.75)*n+.75)+e:2.5/2.75>n?t*(7.5625*(n-=2.25/2.75)*n+.9375)+e:t*(7.5625*(n-=2.625/2.75)*n+.984375)+e},n.bounceIn=function(e,t,i,o){return i-n.bounceOut(o-e,0,i,o)+t},n.bounceInOut=function(e,t,i,o){return o/2>e?.5*n.bounceIn(2*e,0,i,o)+t:.5*n.bounceOut(2*e-o,0,i,o)+.5*i+t},n.circIn=function(n,e,t,i){return-t*(Math.sqrt(1-(n/=i)*n)-1)+e},n.circOut=function(n,e,t,i){return t*Math.sqrt(1-(n=n/i-1)*n)+e},n.circInOut=function(n,e,t,i){return(n/=i/2)<1?-t/2*(Math.sqrt(1-n*n)-1)+e:t/2*(Math.sqrt(1-(n-=2)*n)+1)+e},n.cubicIn=function(n,e,t,i){return t*(n/=i)*n*n+e},n.cubicOut=function(n,e,t,i){return t*((n=n/i-1)*n*n+1)+e},n.cubicInOut=function(n,e,t,i){return(n/=i/2)<1?t/2*n*n*n+e:t/2*((n-=2)*n*n+2)+e},n.elasticOut=function(n,e,t,i,o,a){var r;return null==o&&(o=null),null==a&&(a=null),0===n?e:1===(n/=i)?e+t:(null==a&&(a=.3*i),null==o||o<Math.abs(t)?(o=t,r=a/4):r=a/(2*Math.PI)*Math.asin(t/o),o*Math.pow(2,-10*n)*Math.sin(2*(n*i-r)*Math.PI/a)+t+e)},n.elasticIn=function(n,e,t,i,o,a){var r;return null==o&&(o=null),null==a&&(a=null),0===n?e:1===(n/=i)?e+t:(null==a&&(a=.3*i),null==o||o<Math.abs(t)?(o=t,r=a/4):r=a/(2*Math.PI)*Math.asin(t/o),n-=1,-(o*Math.pow(2,10*n))*Math.sin(2*(n*i-r)*Math.PI/a)+e)},n.elasticInOut=function(n,e,t,i,o,a){var r;return null==o&&(o=null),null==a&&(a=null),0===n?e:2===(n/=i/2)?e+t:(null==a&&(a=.3*i*1.5),null==o||o<Math.abs(t)?(o=t,r=a/4):r=a/(2*Math.PI)*Math.asin(t/o),1>n?-.5*o*Math.pow(2,10*(n-=1))*Math.sin((n*i-r)*(2*Math.PI/a))+e:o*Math.pow(2,-10*(n-=1))*Math.sin(2*(n*i-r)*Math.PI/a)+t+e)},n.expoIn=function(n,e,t,i){return 0===n?e:t*Math.pow(2,10*(n/i-1))+e},n.expoOut=function(n,e,t,i){return n===i?e+t:t*(-Math.pow(2,-10*n/i)+1)+e},n.expoInOut=function(n,e,t,i){return 0===n?e:n===i?e+t:(n/=i/2)<1?t/2*Math.pow(2,10*(n-1))+e:t/2*(-Math.pow(2,-10*(n-1))+2)+e},n.linearNone=function(n,e,t,i){return t*n/i+e},n.linearIn=function(e,t,i,o){return n.linearNone(e,t,i,o)},n.linearOut=function(e,t,i,o){return n.linearNone(e,t,i,o)},n.linearInOut=function(e,t,i,o){return n.linearNone(e,t,i,o)},n.quadIn=function(n,e,t,i){return t*(n/=i)*n+e},n.quadOut=function(n,e,t,i){return-t*(n/=i)*(n-2)+e},n.quadInOut=function(n,e,t,i){return(n/=i/2)<1?t/2*n*n+e:-t/2*((n-=1)*(n-2)-1)+e},n.quartIn=function(n,e,t,i){return t*(n/=i)*n*n*n+e},n.quartOut=function(n,e,t,i){return-t*((n=n/i-1)*n*n*n-1)+e},n.quartInOut=function(n,e,t,i){return(n/=i/2)<1?t/2*n*n*n*n+e:-t/2*((n-=2)*n*n*n-2)+e},n.quintIn=function(n,e,t,i){return t*(n/=i)*n*n*n*n+e},n.quintOut=function(n,e,t,i){return t*((n=n/i-1)*n*n*n*n+1)+e},n.quintInOut=function(n,e,t,i){return(n/=i/2)<1?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},n.sineIn=function(n,e,t,i){return-t*Math.cos(n/i*(Math.PI/2))+t+e},n.sineOut=function(n,e,t,i){return t*Math.sin(n/i*(Math.PI/2))+e},n.sineInOut=function(n,e,t,i){return-t/2*(Math.cos(Math.PI*n/i)-1)+e},n}()}.call(this);var greeks=null;!function(){function n(){var n,e=this,t=null,i=null,o=null,a=null,r=[],u={heroCanvas:{isExpanded:!1,isMouseOver:!1,isScrolledDownEnough:!1},selectedObject:null,menuVisible:!1};e.maps=null,e.toggleMobileMenu=function(){$(".stickyHeader").toggleClass("open")};var c={addCallback:function(){u.heroCanvas.isScrolledDownEnough=!0,h()},removeCallback:function(){u.heroCanvas.isScrolledDownEnough=!1,h()},threshhold:null},l={addCallback:function(){u.selectedObject&&(i.addClass("on"),common.analytics.footerShow())},removeCallback:function(){i.removeClass("on")},threshhold:null},s={addCallback:function(){d()},removeCallback:function(){},threshhold:null},h=function(){var n=u.heroCanvas.isExpanded;u.heroCanvas.isExpanded=u.selectedObject||u.heroCanvas.isMouseOver||u.heroCanvas.isScrolledDownEnough,u.heroCanvas.isExpanded&&!n?a.expandMenu(!1,function(){f()}):!u.heroCanvas.isExpanded&&n&&(f(),a.collapseMenu(!1))},f=function(){var n=u.menuVisible;u.menuVisible=u.heroCanvas.isExpanded&&!u.selectedObject,u.menuVisible&&!n?(t.addClass("menu"),common.analytics.menuInteraction("expand",null,!0),d()):!u.menuVisible&&n&&t.removeClass("menu")},d=function(){$(document).scrollTop()>s.threshhold&&u.menuVisible&&u.heroCanvas.isMouseOver&&common.analytics.menuInteraction("see-rollovers",null,!0)},m=function(){o=$(document).height(),l.threshhold=o-$(window).height()-200,s.threshhold=$(".headerWrapper").height()+$(".introduction").height()+$(".objectMenuWrapper").height()-$(".objectMenu__objectCaption").first().outerHeight()-$(window).height()};e.deselectObject=function(e){return u.selectedObject?(t.removeClass("pastGo detail"),p(),$("html, body").scrollTop($("html, body").scrollTop()+n),$(".on").removeClass("on"),$(".focus").removeClass("focus"),i.removeClass("on"),u.selectedObject=null,a.deselect(e,function(){m(),f(),p()}),location.hash="",!1):!1};var w=function(n){n.find("img").each(function(n,e){var t=$(e),i=t.attr("data-src"),o=t.attr("data-srcset");i&&t.attr("src",i),o&&t.attr("srcset",o)})},v=!1,g=function(){v||(y(l),v=!0)};e.selectObject=function(e,i,o){if(o&&t.addClass("noanim"),i==u.selectedObject)return!1;u.selectedObject=i,f();var c=$("html, body");c.animate({scrollTop:n},o?1:500,"easeOutQuad",function(){t.addClass("pastGo"),c.scrollTop(0),p(),o&&t.removeClass("noanim"),a.select(r.indexOf(i),o,function(){m(),g()})}),t.removeClass("start"),$(".on, .on--previous, .on--next").removeClass("on on--previous on--next"),$(".focus").removeClass("focus");var l=$(".footerNav ."+i).addClass("on"),s=$(".footerNav li"),h=l.index();return s.eq(h-1).addClass("on--previous"),s.eq((h+1)%s.length).addClass("on--next"),w($(".detail."+i).addClass("focus")),t.addClass("detail"),!1};var p=function(){n=$(".objectsSponsors").offset().top-$(".stickyHeader").height(),c.threshhold=n},y=function(n){var e=!0;common.onScroll(function(t,i,o){i>=n.threshhold&&(o<n.threshhold||e)?n.addCallback(i):i<n.threshhold&&(o>=n.threshhold||e)&&n.removeCallback(i),e=!1})},b=function(){return location.hash.length?location.hash.substr(1):null},M=function(n,t){var i=b();return i?e.selectObject(null,i,t):e.deselectObject(t),common.analytics.changePage(),!1},I=function(){e.maps=new Maps,$(window).on("hashchange",M),$(window).on("resize",m),y(c),y(s),y({addCallback:function(){t.removeClass("start")},removeCallback:function(){u.selectedObject||t.addClass("start")},threshhold:1}),$(function(){$(".objectMenu a").each(function(){r.push($(this).attr("href").substr(1))}),$(".objectMenuWrapper").hover(function(){u.heroCanvas.isMouseOver=!0,h(),d()},function(){u.heroCanvas.isMouseOver=!1,h()}),a=new HeroCanvas($(".heroes"),e.heroThumbnailImages,e.heroImages),$(window).on("resize",a.resizeCanvas),a.resizeCanvas(),t=$("body"),i=$(".footerNav"),p();var n=[{counter:0,symbol:"&#x1F3FA;",selector:".lekythos p.intro em"},{counter:0,symbol:"&#x1F373;",selector:".cycladic .insert strong"},{counter:0,symbol:"&#x1F458;",selector:".etymology h4"}];for(var o in n)!function(){var e=n[o];$(e.selector).click(function(n){return++e.counter>=10&&(common.analytics.eegg("emoji-"+e.symbol),new EmojiFireworks(e.symbol,{x:n.pageX,y:n.pageY},t,1500,$(this))),!1})}();var c=0,l=!1,s=$(".overallImage").click(function(){++c>=10&&(l||(common.analytics.eegg("twirl-trigger-"+$(this).attr("alt")),s.addClass("eegg").hover(function(){common.analytics.eegg("twirl-over-"+$(this).attr("alt"))},function(){common.analytics.eegg("twirl-out-"+$(this).attr("alt"))}),l=!0))});m(),M(null,!0)}),delete I};I()}greeks=new n}();